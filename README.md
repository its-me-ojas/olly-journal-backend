# 📔 Olly Journal Backend

A modern journaling backend application powered by Axum and Groq AI. This application allows users to chat with Olly, a warm and friendly AI assistant designed specifically for journaling, and automatically generate journal entries from their conversations.

## 🌟 Meet Olly - Your Journaling Companion

Olly is a warm, friendly, and emotionally intelligent AI designed to be your personal companion for daily reflections. Olly chats like a close friend—empathetic, engaging, and thoughtful. Her responses feel human-like, caring, and supportive, rather than robotic or generic.

Olly's personality:
- 💛 Friendly, warm, and understanding
- 🤔 Encouraging but realistic and thoughtful
- 💬 Uses casual yet articulate language
- 😊 Occasionally adds light humor or affirmations
- 🌈 Always adds a personal touch to conversations

## 🚀 Features

- **AI-Powered Conversations**: Chat with Olly, powered by Groq's powerful language models (gemma2-9b-it)
- **Automatic Journal Generation**: Convert your conversations into beautifully formatted Markdown journal entries
- **Session Management**: Maintains conversation history for each user session
- **Modern REST API**: Built with Axum, Rust's asynchronous web framework
- **CORS Enabled**: Ready for integration with any frontend application

## 🛠️ Tech Stack

- **[Axum](https://github.com/tokio-rs/axum)**: High-performance, async web framework
- **[Tokio](https://tokio.rs/)**: Asynchronous runtime for Rust
- **[Groq AI API](https://console.groq.com/docs)**: Fast, high-quality language model inference
- **[Serde](https://serde.rs/)**: Serialization/deserialization framework
- **[Parking_lot](https://docs.rs/parking_lot/latest/parking_lot/)**: Efficient synchronization primitives

## 📋 API Endpoints

- **POST /chat**: Send messages to Olly and receive responses
  ```json
  // Request
  {
    "session_id": "optional-session-id",
    "message": "I've been feeling a bit stressed lately with work."
  }
  
  // Response
  {
    "session_id": "generated-or-provided-session-id",
    "response": "I understand how work stress can really weigh on you. 💛 It's completely normal to feel overwhelmed sometimes. What aspect of work has been the most challenging for you? And have you found any small moments of peace in between the stress?"
  }
  ```

- **POST /generate-journal**: Convert a session's conversation history into a Markdown journal
  ```json
  // Request
  {
    "session_id": "your-session-id"
  }
  
  // Response
  {
    "journal": "# ✨ Journal Entry - March 31, 2025\n\n### 💭 You\nI've been feeling a bit stressed lately with work.\n\n### 💛 Olly\nI understand how work stress can really weigh on you. 💛 It's completely normal to feel overwhelmed sometimes. What aspect of work has been the most challenging for you? And have you found any small moments of peace in between the stress?\n\n---\n\n*Generated by Olly, your AI journaling companion*"
  }
  ```

- **GET /health**: Health check endpoint
  ```
  // Response
  OK
  ```

## 🏗️ Project Structure

```
ollynotes-backend/
├── src/
│   ├── main.rs               # Server setup and configuration
│   ├── api/                  # API endpoints and route handlers
│   │   ├── mod.rs           
│   │   └── routes.rs         
│   ├── models/               # Data structures and types
│   │   └── mod.rs            
│   ├── services/             # Business logic
│   │   ├── mod.rs
│   │   ├── groq.rs           # Groq AI integration
│   │   ├── journal.rs        # Journal generation
│   │   └── session.rs        # Session management
│   └── utils/                # Utility functions
│       └── mod.rs
├── Cargo.toml                # Project dependencies
├── .env                      # Environment variables
└── README.md                 # This file
```

## 🚦 Getting Started

### Prerequisites

- Rust (latest stable version)
- A Groq API key (get one at [console.groq.com](https://console.groq.com))

### Installation

1. Clone the repository
   ```bash
   git clone https://github.com/yourusername/olly-journal-backend.git
   cd olly-journal-backend
   ```

2. Create a `.env` file in the project root and add your Groq API key
   ```
   GROQ_API_KEY=your-groq-api-key-here
   ```

3. Build and run the application
   ```bash
   cargo run
   ```

4. The server will start on `http://localhost:8080`

### Usage Examples

#### Chat with the AI

```bash
curl -X POST http://localhost:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Tell me about journaling benefits"}'
```

#### Generate a Journal from a Session

```bash
curl -X POST http://localhost:8080/generate-journal \
  -H "Content-Type: application/json" \
  -d '{"session_id": "your-session-id"}'
```

## 📝 Development

### Running Tests

```bash
cargo test
```

### Building for Production

```bash
cargo build --release
```

The optimized binary will be in `target/release/olly-journal-backend`.

## 🔮 Future Plans

- Database integration for persistent storage
- User authentication and accounts
- Advanced journal formatting options
- Sentiment analysis of journal entries
- Frontend integration with Next.js
- Chat history visualization and insights
- Daily journaling reminders and prompts
- Journal export options (PDF, plain text)

## 📄 Latest Updates

**March 31, 2025 - Olly Integration**
- Added Olly, a warm and friendly AI persona designed specifically for journaling
- Enhanced journal formatting with beautiful markdown styles
- Improved conversation flow with system prompts for more natural interactions
- Updated documentation to reflect Olly's capabilities

## 📄 License

## 👏 Acknowledgements

- [Groq](https://groq.com/) for their powerful and fast AI models
- [Axum](https://github.com/tokio-rs/axum) project for the excellent web framework
- All open-source contributors whose libraries made this project possible 